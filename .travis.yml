language: cpp
dist: trusty
sudo: false
os:
- linux
- osx
compiler:
- clang
- gcc
matrix:
  exclude:
  - os: linux
    compiler: clang
  - os: osx
    compiler: gcc
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - cmake
    - libx11-dev
    - libudev-dev
    - gcc-4.9
    - g++-4.9
    - libbz2-dev
    - libstdc++-4.9-dev
    - sshpass
before_install:
- cmake --version
- $CC --version
- $CXX --version
- if [ "$CXX" = "g++" ] && [ "$TRAVIS_OS_NAME" = "linux" ] ; then export CXX="g++-4.9"
  CC="gcc-4.9"; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install http://git.io/sshpass.rb ; fi
script:
- mkdir build
- cd build
- cmake -DCMAKE_BUILD_TYPE=Release ..
- make
- export SSHPASS=$DEPLOY_PASS
- sshpass -e ssh -oStrictHostKeyChecking=no $DEPLOY_USER@$DEPLOY_HOST mkdir -p /home/$DEPLOY_USER/Xsaitekpanels/${TRAVIS_COMMIT}
after_success:
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then otool -L ../bin/Xsaitekpanels/*.xpl ; fi
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; ldd ../bin/Xsaitekpanels/*.xpl ; fi
env:
  global:
  - secure: wWJS2zJzG/HFUzwAoboIddCH/rvEU7MgwRzyJhpgBC0COORgjwzDRSnAZX0x497qGRkIKe3OLgEjzxQkAXYlRzA9RK4XyW/viZWHiGDQDRRHeMbslsf9KxCNy3vDdDpvKfDhhRzz90bqyx1gwm7gznvYordiTIMR9cgJTbhazsD2e/StOnommhV/7efVQH6zzqYqrGyfYWPGWIrTO6xyQyohrm7qJ/B1IBChjf5X1FAnvuXJZJ1BmFUD72z8egeFLBy0Ul8KcSpEi0IICyJGBQYfOoRD9TsJ+O3caU5ub2Q5Ne9RR1purQovEOLjVdwke2KWb+YWKGKPARDnYFU9XqaNkn+ZCIriHaNL3c85vWko2MG0UQjiujhpY6UPlsg8+1hLOoJWu1iUW3K2qBljTbmThKahNsj6mELCI/5rMlQsnT1JdpPlpMa3VaHzPg7crDBzC+6H+uFsRCR2Bl8VGGHR2hpEY9ajnBu8Znm/WeYjm7c1emd7Nki4g/wiRm4UsD1t+xnMDSoQ/2lHbnlJ6R55MJdvT+CoN+40rSbeSII6sHhToLvMaJIZgLRWYGfLfTabidLguerOJC+0MzoqM7nb0PaH8DzF0CmSbiAmm7U1xBvTxkjEU9H5FAvzZN3rnlUc4gLsKxE3T3FFgDJpMhV47i4bNQ4mrqzIrvxrr3M=
  - secure: ZPRJ1WCeQFNy+bfRbaGLXA+X+jiVLO2p1ZcbGGHAyd2co0+6u4XOIL1Q0OLEfCEBoY7Wrkb5SxR4WFI+YQ6JGxVMq0avh3gyuTBF3eH+0GULk2XBmtMmRZNpEumXKF+qBRsWGFhTIglmpDnPnR9fm3BBSFNvw98j6f7Dq8NugPmNBAvFkahTse/uSrpPOxZQofZglv0mTpbvzUZzDKd7a0awiVSRD9wi0Hz/2/b04maLVNvVPjHxFYuEPbS2YG7uU4HOWoG9W5+eddkAdcT4LofwW23VwyQ99RAPjnJp38Ln1LVu3Or8GTFhElaTqPXoP7XR9gpl2vKV5/cI82LiNQwSGx1mXlpYbvTgaYTuxto/0ahFH0RiQwrtIZ/dxlBYWDxSO6ZDJUQL3H/ZEDjTfX6qPrQSly6DMq3nF+M7rMjyGf0R1bQ6ViOtDYrs1VLVgoWJRtgj2yrvG/9GjLFr5Rm4whpncwe9jvMlFcjEAT6JV48YvRZTXe313XEldSsGMhf394rdh+GJvWsy+Q0o51st46iDVZf1s3v0em/XnYe8c5PpzLVCI8EgWUtKvyORS3FCuoOidEWu51NhpGvUHe9rgA+vGY08gaGXcRa7xf6cgriYWAyvEYBfKrYHj63pMzctz6krSw4ziDeOFVBBsIy9PEg+OuR/rYaAiGGMvRA=
  - secure: vThH5RvjxJrP+6YcUT8MUuV6MhxAEhEj9erFtfm1bp/p9+T36GrOXfs74b+oHVXLW8Dr9/K6WI7n2L/pcbGkLBWKAla4Now2k0LAqLN7oCfDe8pLJ3sXh0ECT+tCWvSenS4O90YUDKAAcSurW4bvjayaS0cER6xeB2RTiasz8X+wsPk7qRM5hG3y0vpggqHIwzCvbqq7n4zpjPO+IB4MaLgZv5VdX8HvMbRmMyaT7xW/VQETmeOl8auvVFYZm7M2Lg1KIFNPKES8fHNaPPnvWYKp0lXKNPqBjEcdHMLVca2oHCLBEjZlpJMQRIi5Ct73Yx0QYGyWYPCt3P0syzMMUuJYKZqA2pgWeZdaKXiNTll9bfR4pp8P1h6NE7FcKvS9vEp+EpRDX6J/r2ZuSfT/USndYeoHwbMFEWl4B1hmGShGnNRi3A2JtzKjrsUKJySQLLvAtWRz7ObzTWGZz6ojuu/S+PqkbDzApo9e8Wkfpz8pKXiru6lEjgVnCLs17f4EYbCFseVBXzYYr8k7M6TEPPWpadOXmO9cDltmRDLyBnrZfCDKqcSxZjmn/uLIgXwJWAWvcKJVqXjRvZq7Jtg6PQYKbk8yBQKpIh5hJjynQ7kYIHYT8zNjsckobHwY0g1xCCms77D2cZjeXJbHiFZW6+4uHsi/GotrIsain3FtPQE=
