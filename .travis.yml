language: cpp
dist: trusty
sudo: false
os:
- linux
- osx
compiler:
- clang
- gcc
matrix:
  exclude:
  - os: linux
    compiler: clang
  - os: osx
    compiler: gcc
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - cmake
    - libx11-dev
    - libudev-dev
    - gcc-4.9
    - g++-4.9
    - libbz2-dev
    - libstdc++-4.9-dev
    - sshpass
before_install:
- cmake --version
- $CC --version
- $CXX --version
- if [ "$CXX" = "g++" ] && [ "$TRAVIS_OS_NAME" = "linux" ] ; then export CXX="g++-4.9"
  CC="gcc-4.9"; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install http://git.io/sshpass.rb ; fi
script:
- mkdir build
- cd build
- cmake -DCMAKE_BUILD_TYPE=Release ..
- make
- export SSHPASS=$DEPLOY_PASS
- sshpass -e ssh -oStrictHostKeyChecking=no $DEPLOY_USER@$DEPLOY_HOST mkdir -p home/$DEPLOY_USER/Xsaitekpanels/${TRAVIS_COMMIT}
after_success:
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then otool -L ../bin/Xsaitekpanels/*.xpl ; fi
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; ldd ../bin/Xsaitekpanels/*.xpl ; fi
env:
  global:
  - secure: VgAvaWnumgHcSsmaP3dsejFYLLS1zPlVXsexuqg1m+/1wPfyjPHmIl6XU649gTIThK38cporv0ClFK8R/7UxxQwoq0meNHKccD70a01TemQsToWLmCCq5cc/sSr06Aedl28ge1Jig1du3zhWIaz6/uqYTVJswfwKUzP+a/wz48akwtTdDu1/PuNMGWgX96+ktls3khbQK0UYcZfAzq3NDKu5FRYF+pnWgQ7mIfa3jvHEpVrTdSpbkiYhJqD+DUyo+Z84HvrwzKnTfmR+jTHP/IVILTJ+PcrMzV0KZ/LUAY+Fc0td4Taomfn1MyfKFG6AnUySkvaMgBLnB0XUC1mwKURekCrNsEfHMNuGzcj+Cd/PVgbnZXRuVO0u1yG4PZ9lGK2TCf7UrUUv/p5e5WrLhNM2+uIBZAyA7OVOa48ES3isN7L8UhIzVghd9cQdLlN1G8ub82IwmZY/HNNGR5k8R35MR/LeBgf1ObBrYPzeUfHcfF+5V3szJM+aSvnPKrx++c0APNUhRO50mEV4kMTW/2Dn2MsC0/EUbk07pmAfmAlqbNn1cad5NrUkrwOv/+f3uzPrwaxnjxH8CY9T5ZG9SSD7XUoeIEZRCZIOmGykl96uxaIgNdTsTdrRPiP7L325X7MFPl5hYBFuA90kvhTotRE6tRuhuy7PNhTATgDoiBE=
  - secure: Ef0lz+1v5kj6hAZrfjCFAoQx8gxQdeUzCdszkrVH/C8xcu2N/sESnYZgcHM5pyoHPBf4TzsKW/d/vB3YEgwIdVeM2ttQb5Hetg5/d5KRTGtrCtpnAOIfYWBXWyyYbGSr/HD50d2B6IETRCWlH5SHmYSI47QnPoIMx+hzfB6QvYOwOTu9K8T9ghMdng3Tf0cwfJA1oLFOhWPyZ3kd5NGVz8mLwZjUFIyxzVy2bebTyoNpYcdAy7DctiPOAnTiFe6Ac1BoRo9WyfGM3Dvq1GqwPP4feTn/fh1MNYYOsil9g7I5rzoe4xW0RNc3NKAdVjn67poSKic622dCF/m5xgZqpwD1em0gKG5V4TPc0sgF9imHDOs9XGQKwnHUssOVbDK4ljwq/L2+CC533lvM03UnTJQ5pJGnHzs9ChtoYYe78qNAdHYyG2FcObxQzJY3cxCODUO6V9Y1X3OFE2849p+ZGhn0tLJCEYZ37W+0+FsICTsR1ch6iHF0pK7Y7curtXKvixlGgH64TRmoTdwuXwXEdxd7JxVWMvutP2OfyLi6pkmlJ3k56bmpqRYZ1TSu+3rThNVuqq5CMUG90mlOMVKXcPBz4nJKz+Soav2tBagd3mM47iw4bdIurmUxJzWiy9sAn5ZZwPjk5mUFB9hqoJNwX4/87CdwyuRfWIQueL1BjTQ=
  - secure: fdqZ7vq2pLD8OFHOGIPG3UTE4zCgQCLLg0p/wYferq9GgqVpZ4TkTRluYke/ZPaVuOszAtAp/NydiQDqc+BeSzPTg52HeP/8Jy6MZFiCD79EtHz6W1Qn+fB2xVsj8jEbtpkw85UfqN5eBJhD9EcFi1bV85eqAem6qIhOacR3OQAOSZOeDJNKPXm5Ah0w82HLs4qwmNsDnjD+QbRj5NHuDZ4cjxn9u09BrOOak0lMb+dV/IBW5VyZS/4dYqZeRFYnIWUjoxIVgBgGTTDYcMU7Or0g48N55UsNjxTuyAlcvU2PyOFO00FPx+28p/mL5b31PXEK9SwqEtaHeOzLsqlFUGVHEV2AphjWyCIRW4HKCd+wfr2LqtPs99uDiS1CQkM8tc5KUikhQ///8W7CNKrf/Lhz9GDvulAoyY6ylamJ9gjvHPhczf2WP5P0JB95por9ztRmAuoXHubsp/4EvvsH+OyQj1eXsNSt3a+1WqyLQSLZXpFM/lxonExV/pB74YOybGV6ll+t4/veabuCITJ+2ih27C6IjK0ueFiefddVqIKKVuPnH/OoNWk/wMFHLS1LUQLSl0ts/qvj5t1kkraIMmISXxPwx8GUGs8VBKVVNpkD3suQXhu3NpyeCIc2NxZjTyjKVmIrRRsTNLnQStfdghYHuXIXTWajaRYybNjgCU0=
