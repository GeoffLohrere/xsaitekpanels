language: cpp
dist: trusty
sudo: false
os:
- linux
- osx
compiler:
- clang
- gcc
matrix:
  exclude:
  - os: linux
    compiler: clang
  - os: osx
    compiler: gcc
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - cmake
    - libx11-dev
    - libudev-dev
    - gcc-4.9
    - g++-4.9
    - libbz2-dev
    - libstdc++-4.9-dev
    - sshpass
before_install:
- cmake --version
- $CC --version
- $CXX --version
- if [ "$CXX" = "g++" ] && [ "$TRAVIS_OS_NAME" = "linux" ] ; then export CXX="g++-4.9"
  CC="gcc-4.9"; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install http://git.io/sshpass.rb ; fi
script:
- mkdir build
- cd build
- cmake -DCMAKE_BUILD_TYPE=Release ..
- make
- export SSHPASS=$DEPLOY_PASS
- sshpass -e ssh -oStrictHostKeyChecking=no $DEPLOY_USER@$DEPLOY_HOST mkdir -p home/$DEPLOY_USER/Xsaitekpanels/${TRAVIS_COMMIT}
after_success:
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then otool -L ../bin/Xsaitekpanels/*.xpl ; fi
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; ldd ../bin/Xsaitekpanels/*.xpl ; fi
env:
  global:
      - secure: "gGwVrOgVcnoLjrXZthSiO3T7GTAFvUkHmO0XcRfRtHIU9UxFEdzZdvQcHcduKu4yxNP/4CBDpHPKstZLNJti/7TbPGpZCK0E/XJkEOhWGoBT7by7tO1prItv2zcy7wXaJF6mtGyFh6DmjF9+4SONSokRTTgTxlVrUOWhiie1ejP09fwXCgO8H15D3ztDPSjUWKcM2y6BCnNtTZ4sFOFBlvQtFa5UP2xOz3zt/igOl3YmXi/hSztv4+NPailEGPOiXklcg/ZJInD6pzFAKkf/UIaH7pn9PAoAtQQV8rq0X+A2QB6iejABzpSusnryZ6dYfK2E6zy6zoTV8SBJaMWLCZjB/ZzbONEWlRhsp3lzeZ6hWIc6sq1twIdXdgb5bAKtqnLf2rWBuhSagV0fVfups8RcGk8BS1dPnF0ASNFRobHNADl1J5+ly1BndXjWOsc5BrHweN40yykkI2/rYXpoQa+FF9eY3aOSogM6MlNZ2bKExTGlBBk7sLIDYY0H9ibaOiLj712CPq5qe8dI0rfLQi44qZitk8gboSpq/kDclsTqummE56/3K55J1piEC4Td+sfRmB/bXrFfxoZ4zSsr4HM9naR1bJXFigFw9M+SaJrZSXHv8MQJhivtrszZPprIjP0PPPdVKrYwI8SumC0MP6SOx1sQHobEbfrSUwPbZfs="
       - secure: "bg6TPnbqXldjZoanIXuEmxYHD4IaDY60JHoMlYCI1YfjoqCZvp258VsnoHSbRO7Mtgiop4GmxCl872Ao3inADLPCJoy8kLU+nu0AQFzPPPOtp5SG9dHwxD8i42BLYNYon4sdqsIJC2oBAx/MUAU1CNQpTrwsKJmnnADNAovtZl4SJnTwdFyKlOlmU3ZgQJql57l8TAOjXcgJjbtSKJox33I5viFMfoKZj6vytgJbaC1M0Trf36H3Chqn9FDZQOd3YP/wd7cNvmRLQqnvvh+tHuclOKWkd3dhrvvWfgF2gyruzr04hnUTdLAx7p1sv/iIDuKhbzxBJTKNNC3ruEOfOV6eNlgMyTPROe/pCqienqsMEYFew/6OqwVvN2ChmDjvRiERIq18eOiam7YbJm8pgulRmnob+0PZNsQA2Q9fkeWQEa7Hgoj2m+lhwj/WFKm8xnqqPTuHje4dHZbOPwr7OBJ9ZGagDI2I72qJQdvvSOd63/eS824PSnU1wTy4HVT1U8QM5dUFn6+nyvzKbDKM7A3e5uloUHWP0XN9TLIe08LHaAbYyNdPRunm9/BioC7c9RQDeuG4gy7ccoQXkwHjCQWiAV3qaCzWv18RxsjWunvWwMYGo6LC9xsE3DACgodZtNafB9Xyt8GCbyqoESJ92NXRZGUmnlwVWNiRR4Zsd+4="
        - secure: "GRUHIExU1f2vZYBCR483Utuhn/n00A/hqHDmZTezB5Mnsfzbg3NAqe908HiVSuH4FmpOdwJhoKEsYIL0Lt8/4TE17y+/yLqbu9TJHbE4ciejxJSwqI57Evso0jCdaGXXdC42CzzfMYMaub80F6hvmRsV/F12/NWyP144BYwru0g426mHrD1ITyjLgAtlQKJHJPu6vaax3YdM02FYUfAZKwMnhlEWvzulBm2kGb/YKbAaj/NlVdGKZWCoSRJ8B0LwUP1aPjXIg9939X99O1QSSGMdfaYiB8eS8oZjz/QVBLyE7G5xMOYVpcvOsC4F7KGwtYOHSoCvm//E0ZbeXs+437EMKRc8ygWSDKjYwOHue26YbfevyLraThh0A67wKcd6w7PfS60AiTuj4/qk8eZ1CTa7xYSX9uUm+KYKmhxRixxYLvvHXO4lp6ZzwOEpsK7zrVJ9lwsSghIRwnErDQqRX13wskVhfxz99qwCfFN92rL7rOasiJ/0dWj9zOfpAC+tXUyGKGRcpbPanEVulFzVUyOFggyhbyKiG+F/DNI0ohfVqY90YAkiHGTm54hnfQJ+8GQ1nBogO/zsYo7tqrkJ/dOM331kjfVptw/vece5n0wafuTx40uD8goJImm/AOr5n+L+P1xw4K0t5ggJPbac2j/PVfLqwZwOuAc/IT35w7U="
