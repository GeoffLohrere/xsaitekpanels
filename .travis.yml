language: cpp
dist: trusty
sudo: require
os:
- linux
- osx
compiler:
- clang
- gcc
matrix:
  exclude:
  - os: linux
    compiler: clang
  - os: osx
    compiler: gcc
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - cmake
    - libx11-dev
    - libudev1
    - libudev-dev
    - gcc-4.9
    - g++-4.9
    - libbz2-dev
    - libstdc++-4.9-dev
    - sshpass
before_install:
- cmake --version
- $CC --version
- $CXX --version
- if [[ "$TRAVIS_OS_NAME" = "linux" ]] ; then sudo apt-get update -q ; fi
- if [[ "$TRAVIS_OS_NAME" = "linux" ]] ; then  sudo apt-get install libudev1 -y ; fi
- if [ "$CXX" = "g++" ] && [ "$TRAVIS_OS_NAME" = "linux" ] ; then export CXX="g++-4.9"
  CC="gcc-4.9"; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install http://git.io/sshpass.rb ; fi
script:
- mkdir build
- cd build
- cmake -DCMAKE_BUILD_TYPE=Release ..
- make
- export SSHPASS=$DEPLOY_PASS
- sshpass -e ssh -oStrictHostKeyChecking=no $DEPLOY_USER@$DEPLOY_HOST mkdir -p /home/$DEPLOY_USER/XsaitekpanelsFromTravis/${TRAVIS_COMMIT}
- sshpass -e ssh -oStrictHostKeyChecking=no $DEPLOY_USER@$DEPLOY_HOST mkdir -p /home/$DEPLOY_USER/XsaitekpanelsFromTravis/latest
- sshpass -e scp ../bin/Xsaitekpanels/*.xpl  $DEPLOY_USER@$DEPLOY_HOST:/home/$DEPLOY_USER/XsaitekpanelsFromTravis/${TRAVIS_COMMIT}
- sshpass -e ssh $DEPLOY_USER@$DEPLOY_HOST cp /home/$DEPLOY_USER/XsaitekpanelsFromTravis/${TRAVIS_COMMIT}/*.xpl /home/$DEPLOY_USER/XsaitekpanelsFromTravis/latest/
after_success:
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then otool -L ../bin/Xsaitekpanels/*.xpl ; fi
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; ldd ../bin/Xsaitekpanels/*.xpl ; fi
env:
   global:
   - secure: "qyhwFg9Yv/ivz/qLpYUNbqYlv9aIaTtQ7fQyPM/tQ3kKqSnI4VwsqkH6j3NP0yTjYZvZxUUlUV1hn7Ku9Z2NASlw/EmqfYo9MKQYb8xgrWnMLPFoKM5FFBBBPt3k5Sw9GwYR4OE5+mc3U7/oDMd2dFNSigdqOt7k+gqZ6+Wp+0dlDK42H/UjmDQOtWXEFlbw0+6OixqS+AYdK9TgPVSI8i+EfSljmOCy7bC+I/g0LysHWu+4xShzrk4Wlwfxx3mAkE6BVyoFy3+FN3dF74ghHgKpAcqqEWGojf+qIhH+iCQlUe2EjhePf0Kvh1G4SDql9ZYU4Cg0ctcpSQGsD8zZMj19Hi5Nk59Z/V/ZbWJn0H66gauoYbJBgK1bBJHqHbcc/zDUsCbKNctC7QhSuF4RCHLEtc0fwPsy+F71Yz4FD2HPFHbvUmQs+tklydZNE6D8YzDElp774mFPUjgpwM8tJP403rF0Izh7ZRLuJtTnEzuLpfakgyykWi/oAZyNf6/g2sn2u3uWPqM5nMjhMx+PgSVzG1TDkMjgZU/nKj+FU2UFusP2KqQvAVJD+KqKXf/DclvR1qLW6L1cXfkk1nmfpjFzjZsFu36kfWuI5Xkq7O61KO0NR+YFsODXSQt+n7kbY+bJogp+L+yPRrYj7xOr+NbmsXzrzxKpudbSpNxK/pA="
   - secure: "iuduOsfoHcZNbAetWxfjGOG3yAdykruJV1HTP2AZxII75rzXAyJA165sQcArZo3WtqkID86uucaSoM5s9UUfjIDrJgqkadMkqxuWfhntgGoywkHNb4EZ3ZXIclLvG2tqDKj0l5RYEsQI7SM0pdCutqCBMrbuALTTxDEYvZ/Z+5OIqs41MQXzEXmYKmegm+ZGMaIcQsfHXMeG9ooMklBRlTjfG4bq5uBZwRf2Ylj88F/PXLBpoOELHW1SQ+bq/DVYSslC7nTrdcyu9Qr1cC2pcIijdXPoBh8fCenkVRPGPgipc66USEGv4xubbmI8QXXiCRIQSOqDxrkyoUAw2r7tv8aDFkkv4d0RgrIiuPfC2JaScY6KUtphnZwMxMm37NQ4wt5XpI/6gQ6L9A361lbZQ+1Ox9CVjDY4s16ad293s/Ped7FXzq03F075m+DuulJcDIPF85BXwWe17DUOyM1FbJDWB3uwadRcywQlzUh3glL5k9reuJcjjVoxQuD8RAt1V3FxyDlewRnfjzZjSeq8YDRd+O6sg5Vv/9NvrRSIhGS0s1gurbogKmxONh8e6vegPmnSmzA7/2teybWx9c8WdlrFhQulTq+aO9+u8HMqItPjXScST7BfF2pJOi0Ox7qbqFjyqO7R2a/CY8Q5gm3v0ctdgUhY092HMcM1Qgu1OHA="
   - secure: "D6yKs02h+DINC/EghtpGtSjn9dof/d+euiAS5X2hZRYzPJKgCfGEJq73q/XC2Y8XZVTXctdxPeMowyhuILwsJJaYqfMhJif3vM1uYzzh0gPOdyL0br9iaTCZqbLJExsegpd1uiqvDEkyU6HAnuFBnTiJKIZ5H4GNSDs0aKcZOfQw2AWTjpZvTr5yqAd2T1vPq1cgZaEslY/MVTQ9/F1rMEj58q1ZyvB9qCDcGRvC9mjbCIKu1cEKLLTx+FYl1m9p7jSLWXaHQU2tIVDwjSMiNVPN1nMBdT/dk3urI4XCcSURJXI/Tz96mVjhKzzQ7TI4ROFU/2xqXnpNAOTlfmozCLxI7aAulWPjTRBuZybcVDdmBhbtpn1ty+JO5ML6/jCVwzp9uYcCRUFiUuT0mofIC/xviw+oBXulnSaFZmMvyJz+sTsAUjnq3QTJm4QQZPlHTCmTVavOhQj1/KSrO7g1+5Ghd9g/OFUCxPGWKoUnovEFbbfCdatrIgfxrmYcnfWMUh8A83+BLr4wRvaQrDwdqPk+s4HnuCTzz1oZmDFhniNFOvEYz278Ev1SQxXPdAW6h3noxcQRLm4fgG6t1TWNBpUp8OONSzjKP0Q3/JGZaxa5GfZCeUML2ZT2ZRSoevRh695MOC+2DNR6T84d92TJD2uRNLjxgQcNKC/lNP7GHfk="
   - secure: "ARy6nkjd/YVzNZjXISFkGAtw9Dt3RhM8m2y2JHP2cC+YuR5VjmBD5Ssye90RBfbNZ9JJk6wn3/gUZgEo3AwpGZci+OQyCpTuuj3RPD1ZT5isqJUKErol8N1jngPJwXBLWZjnwXQcWRh5vVkxyxDNmVl2/e7HdST7Z1UkLoqc7RqICfY8KtBsUjTmZTFWTEBawVprjN3gUySAH3x132hWX7wWVpQ1TEl8kySIeIRobnF4E6VBnihuv/jZvZOOcqT3iaWtSqfm9AGd2JV0uPtFpCGe4+cqxB71b+osci67Dp6dNhDx8IG47AkSE3hSqZLPSfhnRZ5ekKzLdsBQ5enG4llLg4JR80r0ltKb38WGpHrCZoScEw6DTMfQ78DEbanoJAoE4V/eYFv3FhTSmhEh7QHpLZxUDN5UshQGxNBKhRwRx9KqIJUcky0ulUyUn7F5tOaJmqncG9KqYpdyzxKc8xN6Ep4FhP3hhLHyff2zGd15li28CrCm/9eh6vMxXZKc1kseBbpjSCUCYzg+Fuxy+vL1I0r2g063zHu6lCp8FFu6lHTtlSfSdhupftg1pScwgn+bcD8T7J9YUnHj+nb2QEoXLxCSCUQxGOx1X1woGLaKtLBVMR5uTozjjUgJxyYwtZNerlhz2NcrTfiK5n6yWR3drjzfRb6wMp700miJRDM="
